import{j as r,b as u,r as f}from"./app-DVTrhL1p.js";import{u as v,S as w}from"./useSelectStyle-DAWAo9y5.js";import{c as j}from"./createLucideIcon-CpnvUODs.js";import{s as b}from"./index-ikzcNs2d.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],S=j("plus",N);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],M=j("refresh-ccw",C);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V=j("search",_);function E({title:d,columns:n,data:i,search:g,onSearch:p,filters:m,addButton:s,scrollToTopOnPaginate:t=!0}){const l=v({width:"15rem"}),o=(e,a)=>{if(a.isMultiple){const y=e.map(k=>k.value);a.onChange(y)}else{const c=e;a.onChange(c.target.value)}},h=e=>e?String(e):"",x=e=>!e.options||!e.value?[]:(Array.isArray(e.value)?e.value:[e.value]).map(c=>e.options.find(y=>String(y.value)===String(c))).filter(c=>!!c);return r.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 transition-colors",children:[r.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-4 gap-3",children:[d&&r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d}),s&&r.jsxs("button",{onClick:()=>{s.href?u.visit(s.href):s.onClick?.()},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition shadow-md dark:bg-blue-700 dark:hover:bg-blue-800",children:[r.jsx(S,{className:"w-4 h-4"}),s.label]})]}),(p||m&&m.length>0)&&r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[p&&r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:g||"",onChange:e=>p(e.target.value),placeholder:"Cari...",className:"pl-10 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-64 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors"}),r.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-400"})]}),m?.map(e=>r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[r.jsxs("label",{htmlFor:e.name,className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[e.label,":"]}),e.isMultiple?r.jsx(w,{id:e.name,isMulti:!0,options:e.options,onChange:a=>o(a,e),value:x(e),styles:l,classNamePrefix:"react-select",placeholder:`Select ${e.label}...`}):r.jsxs("select",{id:e.name,value:h(e.value),onChange:a=>o(a,e),className:`border border-gray-300 dark:border-gray-600 rounded-lg py-2 bg-white dark:bg-gray-700 
                    text-gray-800 dark:text-gray-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors px-3 appearance-none w-36`,children:[r.jsx("option",{value:"",children:"All"}),e.options.map(a=>r.jsx("option",{value:a.value,children:a.label},a.value))]})]},e.name))]}),r.jsx("div",{className:"flex flex-wrap items-end gap-4 mb-6",children:r.jsxs("button",{onClick:()=>u.reload(),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gray-600 rounded-lg hover:bg-gray-700 transition shadow-md dark:bg-gray-700 dark:hover:bg-gray-800",children:[r.jsx(M,{className:"w-4 h-4"}),"Refresh"]})}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:r.jsx("tr",{children:n.map(e=>r.jsx("th",{className:"text-left p-3 text-gray-600 dark:text-gray-300 font-semibold text-sm whitespace-nowrap",children:e.label},e.key))})}),r.jsx("tbody",{children:i.data.length>0?i.data.map(e=>r.jsx("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:n.map(a=>r.jsx("td",{className:"p-3 text-gray-700 dark:text-gray-300 text-sm",children:a.render?a.render(e):e[a.key]},a.key))},e.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:n.length,className:"p-8 text-center text-gray-500 dark:text-gray-400 italic",children:"Tidak ada data ditemukan."})})})]})}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-6 justify-center sm:justify-start",children:i.links.map((e,a)=>r.jsx("button",{disabled:!e.url,onClick:()=>{e.url&&u.get(e.url,{},{preserveScroll:!t,preserveState:!0,replace:!0})},className:`px-3 py-1 border rounded-lg text-sm font-medium transition-colors ${e.active?"bg-blue-600 text-white border-blue-600 dark:bg-blue-700 dark:border-blue-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"} ${!e.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:e.label}},a))})]})}function I({initialFilters:d,baseRoute:n}){const[i,g]=f.useState(()=>{const s={};return Object.entries(d).forEach(([t,l])=>{s[t]=typeof l=="string"&&l.includes(",")?l.split(","):l??""}),s});return{localFilters:i,setLocalFilters:g,handleSearch:(s,t)=>{g(o=>({...o,search:s}));let l="";t?l=b(n,t):l=b(n),u.get(l,{...d,search:s||null,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},handleFilterChange:(s,t,l)=>{let o,h;Array.isArray(t)?(o=t.map(String),h=t.length?t.map(String).join(","):null):(o=t?String(t):"",h=t?String(t):null),g(e=>({...e,[s]:o}));let x="";l?x=b(n,l):x=b(n),u.get(x,{...d,[s]:h,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})}}}export{E as D,I as u};
