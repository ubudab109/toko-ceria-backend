import{a as D,r as i,u as _,j as t,b as d,z as C}from"./app-DVTrhL1p.js";import{A as I}from"./ActionGroup-C3mMYeKX.js";import{C as N,T as M}from"./ConfirmationModal-lS7N4pgC.js";import{u as P,D as T}from"./useInertiaFilters-Mk6qmPU-.js";import{D as A}from"./DashboardLayout-CbH_iNkr.js";import{a as F}from"./helpert-BocEPLOR.js";import{s as o}from"./index-ikzcNs2d.js";import z from"./ModalStock-DQT-6GKT.js";import{c as E}from"./createLucideIcon-CpnvUODs.js";import"./trash-oH1G05Hf.js";import"./info-DAE2x8rJ.js";import"./useSelectStyle-DAWAo9y5.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]],L=E("diff",H);function W(){const{props:u}=D(),{inventories:m,filters:p}=u,{localFilters:n,handleSearch:k,handleFilterChange:c}=P({initialFilters:p,baseRoute:"inventories.index"}),[f,s]=i.useState(!1),[y,a]=i.useState(!1),[l,r]=i.useState(null),{data:b,put:x,errors:g,processing:h,setData:v,reset:j}=_({description:"",stock:0,type:"reduce",final_stock:0}),S=[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"sku",label:"SKU"},{key:"price",label:"Price",render:e=>F(e.price||0)},{key:"stock",label:"Stock",render:e=>t.jsxs("span",{className:`inline-flex items-center justify-center p-1 text-xs font-bold transition-colors duration-200 ${e.stock<=10?"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-300":e.stock<30?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300"}`,children:[e.stock<=10&&t.jsx(M,{size:14,className:"mr-1"}),e.stock]})},{key:"is_from_product",label:"Dari Produk",render:e=>e.product_id?t.jsx("span",{className:"inline-flex items-center justify-center p-1 text-xs font-bold transition-colors duration-200 bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300",children:"Iya"}):t.jsx("span",{className:"inline-flex items-center justify-center p-1 text-xs font-bold transition-colors duration-200 bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-300",children:"Tidak"})},{key:"action",label:"Action",render:e=>t.jsx(I,{onDelete:()=>{r(e),s(!0)},onEdit:()=>d.visit(o("inventories.show",e.id)),otherButton:t.jsx("button",{title:"Sesuaikan Stok",type:"button",onClick:()=>{r(e),a(!0)},className:`
                            p-2 text-sm font-medium transition-all duration-200
                            text-gray-700 dark:text-gray-300
                            bg-white dark:bg-gray-800
                            border-y border-r border-gray-200 dark:border-gray-700
                            rounded-r-lg
                            hover:bg-yellow-50 dark:hover:bg-yellow-900 
                            hover:text-yellow-600 dark:hover:text-yellow-400
                            focus:z-10 focus:ring-1 focus:ring-yellow-500 focus:text-yellow-600 dark:focus:text-yellow-400
                        `,children:t.jsx(L,{className:"w-4 h-4"})})})}],w=()=>{x(o("inventory.adjust-stock",l?.id),{onError:()=>C.error("Harap periksa input Anda"),onSuccess:()=>{j(),r(null),a(!1),setTimeout(()=>d.visit(o("inventories.index")),800)}})};return t.jsxs(A,{children:[t.jsx(z,{isOpen:y,onClose:()=>{r(null),a(!1)},data:b,errors:g,processing:h,handleSubmit:w,inventory:l,setData:v},"modal-adjust-stock"),t.jsx(N,{isOpen:f,title:"Hapus Inventory?",message:"Yakin ingin menghapus inventory ini?",type:"danger",onClose:()=>{r(null),s(!1)},onConfirm:()=>{d.delete(o("inventories.destroy",l?.id),{onSuccess:()=>{r(null),s(!1)}})},isStatic:!0}),t.jsx("div",{className:"p-8",children:t.jsx(T,{title:"Inventory List",columns:S,data:m,search:typeof n.search=="string"?n.search:"",onSearch:k,addButton:{label:"Tambah Inventory",href:o("inventories.create")},filters:[{name:"stock",label:"Stok",isMultiple:!1,options:[{label:"Normal",value:"normal"},{label:"Menipis",value:"thinning"},{label:"Hampir Habis",value:"less"}],value:n.stock,onChange:e=>{c("stock",e)}},{name:"is_from_product",label:"Dari Produk",isMultiple:!1,options:[{label:"Dari Produk",value:"1"},{label:"Tidak Dari Produk",value:"0"}],value:n.is_from_product,onChange:e=>{c("is_from_product",e)}}]})})]})}export{W as default};
