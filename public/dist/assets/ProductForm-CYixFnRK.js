import{j as e}from"./app-DVTrhL1p.js";import{B as w}from"./ButtonBack-9t6ATpas.js";import{M as _}from"./constant-CWNcz--l.js";import{P as I}from"./package-BG6wzjzp.js";import{L as h,T as p,C as f,S as C}from"./tag-CmG9tD2x.js";import{D as P,S as x}from"./scale-Cd9B83q4.js";import{c as b}from"./createLucideIcon-CpnvUODs.js";import{T as S}from"./trash-oH1G05Hf.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],y=b("image",M);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],q=b("map-pin",R);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],$=b("wine",T),o=({idHtmlFor:c,label:a,icon:s,errors:l,children:u,halfWidth:m=!1,isRequired:g=!1})=>e.jsxs("div",{className:m?"w-full md:w-1/2":"w-full",children:[e.jsxs("label",{htmlFor:String(c),className:"flex items-center mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(s,{className:"w-4 h-4 mr-2 text-blue-500"}),a," ",g&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u,l&&e.jsx("p",{className:"mt-1 text-xs text-red-500 dark:text-red-400 font-medium",children:l})]});function W({isEdit:c,data:a,setData:s,errors:l,handleSubmit:u,processing:m,categories:g}){a.productImages||(a.productImages=[]);const d=r=>`
        w-full p-3 text-sm rounded-lg transition-all duration-200
        bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white
        border ${l[r]?"border-red-500 ring-red-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"}
        focus:ring-1 focus:outline-none
    `,k=(r,t)=>{const i=[...a.productImages||[]];i[r]={...i[r],image_url:t},s("productImages",i)},j=()=>{const r=[...a.productImages||[],{product_id:a.id||0,image_url:""}];s("productImages",r)},v=r=>{if(c){const t=(a.productImages||[]).map((i,n)=>n===r?{...i,is_deleted:!0,is_thumbnail:!1}:i);s("productImages",t)}else{const t=(a.productImages||[]).filter((i,n)=>n!==r);s("productImages",t)}};return e.jsxs("div",{className:"w-full max-w-full p-6 sm:p-8 bg-white dark:bg-gray-800 shadow-2xl rounded-xl border border-gray-100 dark:border-gray-700 transition-all duration-300 mx-auto",children:[e.jsx(w,{}),e.jsxs("h1",{className:"flex items-center text-3xl font-extrabold text-gray-900 dark:text-white mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx(I,{className:"w-8 h-8 mr-3 text-blue-600"}),c?"Edit Produk":"Tambah Produk Baru"]}),e.jsxs("form",{onSubmit:u,className:"space-y-8",encType:"multipart/form-data",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2 text-gray-400"})," Detail Dasar"]}),e.jsx(o,{isRequired:!0,id:"name",label:"Nama Produk",icon:p,errors:l.name,children:e.jsx("input",{id:"name",type:"text",value:a.name,onChange:r=>s("name",r.target.value),placeholder:"Contoh: Kopi Arabica Gayo",required:!0,className:d("name")})}),e.jsx(o,{id:"description",label:"Deskripsi Produk",icon:h,errors:l.description,children:e.jsx("textarea",{id:"description",value:a.description,onChange:r=>s("description",r.target.value),placeholder:"Deskripsi lengkap produk Anda...",rows:3,className:d("description")+" resize-y"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx(o,{isRequired:!0,id:"price",label:"Harga (IDR)",icon:P,errors:l.price,halfWidth:!0,children:e.jsx("input",{id:"price",type:"number",step:"0.01",value:a.price,onChange:r=>s("price",r.target.value),placeholder:"Cth: 150000.00",required:!0,className:d("price")})}),e.jsx(o,{isRequired:!0,id:"category_id",label:"Kategori",icon:p,errors:l.category_id,halfWidth:!0,children:e.jsxs("select",{id:"category_id",value:a.category_id??"",onChange:r=>s("category_id",parseInt(r.target.value,10)||null),required:!0,className:d("category_id")+" appearance-none",children:[e.jsx("option",{value:"",children:"Pilih Kategori"}),g.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})})]})]}),e.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2 text-gray-400"})," Spesifikasi Produk"]}),e.jsx(o,{isRequired:!0,id:"origin",label:"Asal Produk (Origin)",icon:q,errors:l.origin,children:e.jsx("input",{id:"origin",type:"text",value:a.origin,onChange:r=>s("origin",r.target.value),placeholder:"Cth: Bandung, Jawa Barat",className:d("origin")})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(o,{isRequired:!0,id:"abv",label:"ABV (Kadar Alkohol)",icon:$,errors:l.abv,children:e.jsx("input",{id:"abv",type:"text",value:a.abv,onChange:r=>s("abv",r.target.value),placeholder:"Cth: 5% atau 40%",className:d("abv")})}),e.jsx(o,{isRequired:!0,id:"volume",label:"Volume",icon:x,errors:l.volume,children:e.jsx("input",{id:"volume",type:"number",value:a.volume,onChange:r=>s("volume",r.target.value),placeholder:"Cth: 750",className:d("volume")})}),e.jsx(o,{id:"measurement",label:"Satuan",icon:x,errors:l.measurement,children:e.jsx("select",{id:"measurement",value:a.measurement,onChange:r=>s("measurement",r.target.value),className:d("measurement")+" appearance-none",children:_.map(r=>e.jsx("option",{value:r,children:r},r))})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Stok Terbatas (Limited Stock)",e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Aktifkan jika produk ini memiliki stok terbatas yang perlu dipantau."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:"",className:"sr-only peer",checked:a.limited_stock,onChange:r=>s("limited_stock",r.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-500 peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2 text-gray-400"})," Gambar Produk"]}),e.jsx("div",{className:"space-y-4",children:a.productImages?.map((r,t)=>{if(!r.is_deleted)return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs(o,{idHtmlFor:`image_file_${t}`,label:`Gambar ${t+1}`,icon:y,errors:l[`productImages.${t}.image_url`],isRequired:!0,children:[e.jsx("input",{id:`image_file_${t}`,type:"file",accept:"image/*",onChange:i=>{const n=i.target.files?.[0];n&&k(t,n)},className:"w-full p-2 text-sm text-gray-900 bg-gray-50 dark:bg-gray-300 border border-gray-300 dark:border-gray-600 dart:text-gray-100 rounded-lg cursor-pointer focus:ring-1 focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{id:`thumbnail-radio-${t}`,type:"radio",value:"true",name:"thumbnail-radio",checked:!!r.is_thumbnail,onChange:()=>{const i=(a.productImages||[]).map((n,N)=>({...n,is_thumbnail:N===t}));s("productImages",i)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e.jsx("label",{htmlFor:`thumbnail-radio-${t}`,className:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Jadikan Thumbnail"}),l.productImages&&e.jsx("p",{className:"mt-1 text-xs text-red-500 dark:text-red-400 font-medium",children:l.productImages})]})]}),r.image_url&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Preview:"}),e.jsx("img",{src:typeof r.image_url=="string"?r.image_url:URL.createObjectURL(r.image_url),alt:`Preview ${t+1}`,className:"max-h-48 rounded-md border border-gray-300 dark:border-gray-600 object-contain"})]})]}),e.jsx("button",{type:"button",onClick:()=>v(t),className:"self-start mt-2 p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition-colors",title:"Hapus Gambar",children:e.jsx(S,{className:"w-5 h-5"})})]},t)})}),e.jsxs("button",{type:"button",onClick:j,className:"flex items-center px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:text-blue-700 border border-blue-600 hover:border-blue-700 dark:text-blue-400 dark:border-blue-400 dark:hover:text-blue-300 dark:hover:border-blue-300 transition-colors",children:[e.jsx(f,{className:"w-4 h-4 mr-2"})," Tambah Gambar"]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("button",{type:"submit",disabled:m,className:`flex items-center px-6 py-2.5 text-base font-semibold rounded-lg text-white transition-all duration-300
                            bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300
                            dark:bg-blue-700 dark:hover:bg-blue-800 dark:focus:ring-blue-900
                            disabled:opacity-60 disabled:cursor-not-allowed shadow-md hover:shadow-lg`,children:[m&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!m&&(c?e.jsx(C,{className:"w-5 h-5 mr-2"}):e.jsx(f,{className:"w-5 h-5 mr-2"})),m?"Menyimpan...":c?"Simpan Perubahan Produk":"Tambah Produk"]})})]})]})}export{W as default};
