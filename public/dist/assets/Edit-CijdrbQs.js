import{a as b,u as f,j as r,z as x}from"./app-DVTrhL1p.js";import{D as v}from"./DashboardLayout-CbH_iNkr.js";import{s as g}from"./index-ikzcNs2d.js";import D from"./InventoryForm-DF_5jgN2.js";import{u as j,D as _}from"./useInertiaFilters-Mk6qmPU-.js";import{f as P}from"./helpert-BocEPLOR.js";import"./createLucideIcon-CpnvUODs.js";import"./ButtonBack-9t6ATpas.js";import"./constant-CWNcz--l.js";import"./package-BG6wzjzp.js";import"./x-TECCxTS_.js";import"./tag-CmG9tD2x.js";import"./scale-Cd9B83q4.js";import"./useSelectStyle-DAWAo9y5.js";function A(){const{products:i,inventory:e,inventoryHistories:s,filters:n}=b().props,{localFilters:a,handleSearch:o,handleFilterChange:p}=j({initialFilters:n,baseRoute:"inventories.show"}),{data:l,setData:u,put:d,processing:m,errors:c}=f({id:e.id,name:e.name,measurement:e.measurement,stock:e.stock,description:e.description,price:e.price,product:e.product?{id:e.product.id,name:e.product.name,price:e.product.price,description:e.product.description,measurement:e.product.measurement}:{id:0,name:"",price:0,description:"",measurement:""},product_id:e.product_id,sku:e.sku}),y=t=>{t.preventDefault(),d(g("inventories.update",e.id),{onError:()=>x.error("Pastikan semua input telah terisi")})},h=[{key:"user",label:"Dilakukan Oleh",render:t=>t.user?r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.user.name}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.user.email||"-"})]}):r.jsx("div",{children:r.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"System"})})},{key:"title",label:"Title"},{key:"description",label:"Deskripsi"},{key:"type",label:"Tipe",render:t=>t.type.replace(/_/g," ").replace(/\b\w/g,k=>k.toUpperCase())},{key:"previous_value",label:"Data Sebelumnya"},{key:"current_value",label:"Data Terakhir"},{key:"created_at",label:"Diubah Pada",render:t=>P(t.created_at.toString())}];return r.jsxs(v,{children:[r.jsx(D,{products:i,data:l,isEdit:!0,errors:c,handleSubmit:y,processing:m,setData:u},"inventory-form-update"),r.jsx("div",{className:"mt-2",children:r.jsx(_,{title:"History Perubahan Inventori",columns:h,data:s,search:typeof a.search=="string"?a.search:"",onSearch:t=>o(t,e.id),scrollToTopOnPaginate:!1,filters:[{name:"type",label:"Tipe",isMultiple:!1,options:[{label:"Perubahan Data",value:"perubahan"},{label:"Penyesuain Stok",value:"penyesuain_stock"}],value:a.type,onChange:t=>{p("type",t,e.id)}}]})})]})}export{A as default};
